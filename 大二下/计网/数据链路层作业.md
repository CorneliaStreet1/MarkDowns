[部分答案1](https://wenku.baidu.com/view/f7ba8e38a000a6c30c22590102020740be1ecda6.html)

[大部分答案2](https://wenku.baidu.com/view/76ac0d042c60ddccda38376baf1ffc4fff47e274.html)

### 1

一次发送成功的概率为$0.8^{10}$，因此大约需要$1 \div 0.8^{10}$



### 2

使用字节填充法，ESC为转义字节，ESCFLAG为报文中的FLAG，ESCESC为报文中的ESC，FLAG为帧的分界线

按照上述规则拆分后，得到填充后的字节流为：

**FLAG** AB`ESCESC` C `ESCESC` `ESCFLAG` `ESCFLAG`D **FLAG**



### 3字节填充法的最大帧头？（没读懂题目）

如果全是需要转义的字符的话应该是最大的。

### 4

有可能。当被判断为校验和的部分的数据恰好使得校验正确时。校验和的位数越长，错误被忽略的概率越低。



### 6

汉明距离为2

### 7

由于数据是八位，则有$m + r +  1 \leq  2^r$ ,解得r = 4。使用4位校验。

编码后总共12位，第1 2 4 8位为校验位，其余位为数据位。

也即：_ _1_010_1111。

3 = 1 + 2

5 = 1 + 4

6 = 2 + 4

7 = 1 + 2 + 4

9 = 1 + 8

10 = 2 + 8

11 = 1 + 2 + 8

一号位参与3 5 7 9 11位的校验，这几位数据位共有2个1，因此采用偶校验则一号位为0

二号位参与3 6 7 10 11位的校验，共有4个1，二号位为0

以此类推，4号位为1,8号位为1

编码后的结果为**00110101111**

### 9

可以检查出单比特和双比特差错。

三比特差错如果在同一行或列可以检测出

四比特差错如果出错的4个点位于矩形的4个顶点则无法检测出

### 11

如果采用汉明码，则根据$m + r +  1 \leq  2^r$ ,解得r = 10。成功传送一帧，需要传输1010比特。

如果采用奇偶校验，只需1位校验码，假设出错概率为p，采用出错重传的策略，假设总共传输$x$帧，则其中发生重传的有$px$帧，未发生重传的有$(1 - p)x$帧，总共传输的比特数为$\{2px +(1-p)x\}*1001 = (px + x) * 1001 $比特，则平均一帧的开销为$1001 * (p + 1)$比特

要使得重传的效率大于汉明码，则$1001(p + 1) \leq 1010$，解出p的范围即可，大约是$p \leq 9 * 10^{-6}$

### 14

1. 比特串$x^7 + x^5 + 1$对应于比特串`10100001`
2. 生成式$x^3 + 1$对应于比特串`1001`，生成式的阶为r = 3。
3. 将报文比特串左移3位，得到的结果除以生成式对应的比特串，余数即为结果：111。



### 15

1. 要传输的比特流为`10011101`
2. 生成式对应的比特流为1001，阶为3。
3. 则将1中的比特流左移三位得`10011101000`
4. 用3中的比特串除以`1001`，得余数为比特串`100`。
5. 将1和4中的比特串拼接为比特串1*4得从发送方实际发出的比特串：`10011101100`。
6. 第3位被反转，则将收到的比特串与生成式去做除法，发现余数不为零，于是检测到错误。
7. 当某两位反转，使得收到的比特串恰好能够模生成式余零时，无法被检测出。
8. 嘉心糖还是很有用的。

### 16 为什么几乎所有的数据链路层协议都将CRC校验和放在尾部？

如果把CRC放在帧的头部，那么就要在发送之前把整个帧先检查一遍在计算CRC。如果每个字节都要处理两遍，第一遍是为了计算检验码，第二遍是为了发送。把CRC放在尾部就可以把处理时间减半。

### 17

可能由于CPU的猪脑过载，ACK发出不及时，到达发送方的时候计时器已经超时了。

### 18

- 信道带宽为$4kbps$，传输延迟为20毫秒，求帧使得停等协议的效率大于等于$50%$的大小范围。

1. 设帧的$size$为$x$，则发送帧用时为$x / 4000 $秒
2. 总用时为帧从发送方到接收方，以及ack反向传输的时间加上发送帧的时间。
3. 则有$(x / 4000) / (x / 4000 + 4 * 10^{-2}) \ge 0.5$，解出$x > 160$



### 20

- 使用协议5，在3000千米长的T1线路上传输，传播速度为6微秒每米，求序号应该多少位。

1. 协议5为GoBackN，3000米上的线路，单向传输延迟为18毫秒。
2. 双向延迟为36毫秒
3. T1线路的传输64字节的帧需要0.3毫秒。
4. 线路上就最多同时有120帧（121帧）
5. 需要7位的二进制序号空间。



### 27

- 使用协议6在$1 Mbps$的无差错信道上。最大帧尺寸为1000比特。
- 网络层每一秒生成一数据包。超时周期为10毫秒。
- 如果不使用ack计时器，不必要的超时会出现。求一帧的平均重传次数。

1. 发送一帧的时间为1毫秒，超时周期为10毫秒，网络层的反向流量延迟为1秒，一定会超时。
2. 接收方收到重复帧，发送NAK，因此平均一帧发送两次。

### 28

没看懂题目啥意思，但猜关键点应该在于新老窗口的序号重叠问题。。。

### 29

- 帧大小为1000比特，信道带宽为$1Mbps$，卫星传输，单向延迟270毫秒。永远用捎带确认。序号空间3比特。
- 求最大信道使用率。

1. 发送帧时间为1毫秒，传输时间270毫秒，ack到达延迟270毫秒。

(a)停等：$1 / 541$

(b)协议5，GBN，发送方窗口为7，效率为$7 / 547$

(c)协议6，选择重传，发送方和接收方窗口都为4。效率$4 / 544$



### 30

- 无差错$64 Kbps$卫星信道，单向发送512字节的数据帧，短ack反向传回，单向延迟270毫秒。
- 对于窗口分别为1 7 15 127的最大吞吐量。

1. 发出一个帧所需时间：$512 * 8 / 64k$秒，也就是64毫秒
2. 帧延迟加ack延迟540毫秒。
3. 总共604毫秒，理论上最大可以有9帧（10帧）。
4. 窗口为1的时候1帧，为7的时候7帧，窗口为15的时候:9帧，其他时候9帧（10帧）。



### 31

- 100千米长的线缆，T1数据速率，传播速度为真空光速的三分之二。

4帧，772比特。



### 32

- PPP协议是设计给软件处理的，软件处理字节显然比处理比特容易。

### 33

最少五字节，最多十字节

### 补充题1

用11010110000对1001取余即可得校验位（真不想再算了。。前面算了好几次了。。）

### 补充题2

3

### 补充题3

1. 发出一帧所需时间20毫秒
2. 来回加发出总共1020毫秒
3. 线路上最多50（51）帧
4. 要一半效率，至少要25帧
5. 发送窗口要大于25，则序号空间大于50。取6位序号即可

### 补充题4

6和7号帧

### 补充题5

1. 发出一帧的时间$128 * 8 / 16k$秒，即64毫秒
2. 发出一帧的总时延64 + 540 = 604

- 停等：64 / 604
- 发送窗口为7：7*64 / 604
- 发送窗口为15:10 *64 / 604
- 比特数最少为4位。



