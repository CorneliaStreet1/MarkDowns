[参考](https://blog.csdn.net/weixin_44413191/article/details/106680214)

### 6

- 竞争时隙就是$2\tau$，其中$\tau$为信号从线路的最左端传输到最右端的时间。

（a）信息的传播速度$0.82 × 3 × 10^8 \ = \  2.46 × 10^8 m/s $，则传播延时$\tau \ = \  2 \ km / ( 2.46 × 10^8 m/s ) \ = \ 8.13 × 10^{−3} ms$则竞争时隙$2τ=1.63×10^{-2} ms \ = \ 16.3μs$

（b）信息的传播速度$0.65×3×10^8\ = \ 1.95×10^8 m/s$，则传播延时$\tau \ = \ 40 \ km \ / \ (1.95×10^8 \ m/s) \ = \ 2.05×10^{-2} \ ms$，则竞争时隙$2\tau = 4.1 × 10^{−2} ms = 410μs$

### 13

- 经典10M以太网的波特率是多少？

以太网采用曼彻斯特编码，2 Baud 表示 1 位信息，则波特率 $= 2 × 10 Mbps = 20 MBaud $

### 16

- 建造一个CSMA/CD网络，速度 1Gbps，1千米电缆，无中继器，线缆中信号传播速度200,000 km/sec，求最小帧长度？

- 竞争时隙就是$2\tau$，其中$\tau$为信号从线路的最左端传输到最右端的时间。
- $\tau = 1 \ km / \ 200000 km/s = 5 * 10^{-6} s，2\tau = 10^{-5} s$
- 则帧长度等于速度乘以竞争时隙 = $10^9 * 10^{-5} = 10^4$比特。

### 17

- 一个被以太网传输的IP包为60字节，LLC层未投入使用，在以太帧中是否需要填充，如果需要，需要填充多少？
- 不需要，因为MAC层帧的总长度 = IP包的长度 + 源地址长度 + 目标地址长度 +  类型 + 校验和 + 可选填充。
- 不需要填充的情况下，MAC层帧的总长度也达到了78字节，大于64字节的最低标准。

### 18

- 以太网的帧最小长度为64字节以确保在电缆的最远端发生冲突时发送方还在进行帧的发送。快速以太网有同样的最小帧长度，但是将速度提高了十倍，它是如何保持最小帧长度的？
- 将线缆的长度缩小为原来的十分之一（这样$\tau$就不变），或者使用信号传输速度更高的电缆。

### 20

- g级以太网每秒可以处理多少帧？
- 如果使用载波扩充，将最短帧的长度由64字节变为512字节，则千兆以太网每秒处理帧数 = $10^9 * 1 / (512 * 8) = 2.5 * 10^5$帧
- 如果使用帧突发的方式，将短帧拼接为长帧，则由多个短帧拼接而成的长帧的数量为$2.5 * 10^5$帧
  - 由于组成拼接的短帧的长度各异，所以从长帧数目换算短帧的数目不存在一个固定的值。
  - 如果假设所有的短帧都是最短长度64字节，那么帧数目为$10^9 * 1 / 64 * 8 = 2 * 10^6$帧

### 22

以下四个站中，CＤ两个站哪个离A最近：

- A是发送方，先发送了RTS帧。
- B是接收方，收到RTS后发送了CTS帧。
- 在A发出RTS后，C就收到了NAV，则C离Ａ更近

![img](https://raw.githubusercontent.com/CorneliaStreet1/PictureBed/master/202205071200872.png)



### 24

- 无线局域网，一个接入点十个客户端，其中四个客户端的速率为6Mbps，四个客户端的速率为18Mbps，剩余两个客户端的速率为54Mbps。
- 求：当十个站同时发送数据时，它们实际的速率：
  - 使用TXOP时24 + 72 + 108
    - 每个站拥有等量的发送时间
    - 平均速率 = $ 4 * 6 * t + 4 * 18 * t + 54 * 2 * t / (10t) = 20.4 Mbps$
  - 不使用TXOP时：2/3 + 2 / 9 + 1 / 27 = (18 + 6 + 1) / 27  = 25 / 27,10 * 27 / 25 = 40* 27 / 100 = 1080 / 100 
    - 每个站拥有等量的帧
    - 平均速率 = $10 / \{4 * 1 /6 + 4 * 1 / 18 + 2 * 1 / 54\} = 10.8Mbps$

### 38

如书图4-41（b）（即下图）所示，使用网桥B1和B2扩展局域网。假设两个网桥的初始转发表（Hash Table）都是空的。请按照下列发送顺序，给出每个帧所经过的网桥及其端口。

<img src="https://raw.githubusercontent.com/CorneliaStreet1/PictureBed/master/202205071351310.png" alt="114514"  />

- (a) A发送一个包给C
  - A $\Rightarrow$B1端口1 $\Rightarrow$泛洪到B1所有端口，通过B1端口3进入C
- (b) E 发送一个包给F
  - E通过集线器直接到达Ｆ，B2端口2收到并泛洪。
- (c ) F 发送一个包给E
  - F帧通过集线器到达E，同时帧到达B1的2端口，被丢弃。
- (d) G发送一个包给E
  - G帧通过B2端口3到达网桥，网桥查表得知由端口2可以到达E，于是将帧转发到端口2
- (e) D发送一个包给A
  - D帧到达B2，被B2泛洪，到达B1，B1查表得知经端口2可到达A，将帧转发到端口2
- (f) B 发送一个包给F.
  - B帧被B1泛洪，到达B2，B2查表得知经过端口2可以到达F，将帧转发到端口2



### 39

- 从损坏帧的角度看，存储－转发型交换机比直通型交换机更有优势，为什么？
- 直通型交换机只处理 MAC 帧头，而不管帧尾部的CRC校验，若帧出错，照样会进行转发。而存储转发型交换机则存储整个帧，完成 CRC 校验后才决定转发问题。若帧出错则丢弃，不进行转发。

### 41

- 为了使用 VLANs，需要在网桥中配置转发表。如图4-47所使用的 VLAN 中，如果使用集线器替代交换机会产生什么样的变化？此时，集线器需要配置表吗？原因是什么？
- 若用集线器替代交换机，则独享信道将变为共享信道。集线器不需要配置表，因为集线器会将帧广播式的发送给所有站点，没有选择端口的功能。

### 42

- 在图4-48（即下图）中，在右侧的传统域中的交换机（即B5）是一个支持VLAN的交换机，有可能使用传统的交换机吗？如果可能，请问将如何工作？如果不可能，原因是什么？
  - ![img](https://raw.githubusercontent.com/CorneliaStreet1/PictureBed/master/202205071413508.png)

- 可以使用。若 B5 改为传统交换机，则改变标签的工作可交给 B3 完成。

### 补充题

- 一千米长，10Mbps的CSMA/CD LAN，介质传输速度200米每微秒。无中继器。数据帧256位，包括32位帧头，校验和，其他开销。传输一帧成功后的第一个机会用于接收方发送一个32位的ACK，有效数据率，除去其他开销，假设无冲突？
- 长度一千米，速度两百米每微秒，$\tau = 1000 / (200 * 10^{6}) = 5 * 10^{-6} \ s$
- 发送方抓住介质的时间：10毫秒
- 用于发送帧的时间：
  - 数据帧：$256 / (10 * 10^6) = 2.56 * 10^{-5} \ s$
- 帧在介质上传输的时间：5毫秒

- 接收方抓住介质的时间：10毫秒

- ACK：$32 / (10 * 10^6) = 3.2 * 10^{-6} \ s$
- 帧在介质上传输的时间：5毫秒
- 有效数据率：$224 / (25.6 + 3.2 +30) = 3.8 \ Mbps$