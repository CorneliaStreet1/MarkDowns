### 1

- 在什么情况下面向连接的服务会无序传输数据包？
- 中断信号会优先于队列中的其他数据传输

### 5

```java
路由表:B6  D3  E5			C的路由表： 
目的地：						到： 花费： 出口：
    A:5	 16 7					A：	11		B
    B:0	 12 6					B：   6		B
    C:8	 6  3					C：	 8		E
    D:12 0  9					D：	 3		D
    E:6  9  0					E：	 5		E
    F:2  10 4					F：	 8		B
```

### 7

- 4800路由器的层次路由，分为三层，区域和集群的尺寸应该如何选择可以使得路由表的大小最小？

- 一个好的假设是，3层，k个区域，每个区域k个集群，每个集群k个路由是最接近最优解的。
- 也就是说$k^3$等于4800，k大约接近16（16到17之间）。使用试错法来试出一组三个都在16附近的数据？

也就是这三个数据要满足：1.都接近16 2.乘积要为4800。应该是：16 15 20

### 14

- 一个数据报网络，允许路由器路由器在需要时丢弃数据包。一个路由器丢失数据包的概率为$P$。
- 考虑以下情况：
  - 源端主机——源端路由——目的端路由——目的主机
  - 如果两个路由器之一丢弃一帧，源端主机最终超时重传。
  - 如果主机——路由和路由——路由线路上以跳计，则以下情况的平均数为：

1. 每次传输，一个数据包的平均跳数：源主机发出的每一个数据包都会产生1、2或3跳。它跳一跳的概率是p。它产生两跳的概率是$p(1−p)$。它产生3跳的概率是$(1−p)^2$。数据包可以期望的平均路径长度是这三个概率的加权和，$p+2p(1-p)+3(1−p)^2$，即$p^2 -3p+3$
2. 一个数据包的传输次数：
   - p = 0时3跳（传输1次），p=1时只能一跳（永远到不了目的端主机，看做传输无穷多次）。
   - $0<p<1$时需要传输多次，假设传输次数为$x$,有$1 / x = (1-p)^2，x = 1/(1-p)^2$
3. 每收到一个数据包所需的跳数
   - p = 0时3跳（传输1次），p=1时只能一跳（永远到不了目的端主机，收不到数据包）
   - 每次传输数据包的平均跳数乘以传输次数，即$p^2 -3p+3/(1-p)^2$

### 15

说出ECN和RED的两个主要的不同：

1. ECN方法通过设置一位来显式地向源发送拥塞通知，而RED则通过简单地丢弃它的一个数据包来隐式地通知源。
2. ECN在缓冲区溢出时才丢包，RED在缓冲区数据包超过某个阈值时随机丢包

### 16

- 流量整形，最大包尺寸1000字节，一个令牌桶的令牌流入速度一千万字节每秒，令牌桶令牌容量为一百万字节，最大传输率五千万字节每秒，最高速的流量突发能持续多久？
- 设时间为$t$，以百万为单位，有$10*t + 1 = 50t$，$t = 1 /40 $秒

### 23

- 假如使用20比特，而不是原来的16比特给B类IP地址的网络部分（？不是14比特？），那么B类IP地址的网络会有多少个？

- 反正答案应该是$2^{18}$个网络吧。。

### 24

- 将十六进制的IP地址$C22F1582$转换成点分十进制：
- 总共是4个字节，应该是IPv4:按字节划分为$C2.F1.15.82$，也即$194.241.21.130$

### 25

互联网上的一个网络的一个子网掩码是$255.255.240.0$。它能处理的最大主机数？

- /20的地址，主机数$2^{12}$

### 27

- 从$198.16.0.0$开始有大量连续的IP可分配，有四个组织ABCD，分别要求4000,2000,4000,8000地址（按此顺序），对每个组织，给出它们IP的开头和结尾，以及子网掩码。11000110.00010000.11111111.01000000

- 组织A：11000110.00010000.0|xxxxx：IP:198.16.0.0-198.16.15.159/17
- 组织B：11000110.00010000.10|xxxx：IP：198.16.128.0-198.16.135.207/18
- 组织C：11000110.00010000.110|xxxxx：IP：198.16.192.0-198.16.207.159/19
- 组织D：11000110.00010000.111|xxxxx：IP：198.16.224.0-198.16.255.63/19

### 28

可以聚合为57.6.xxxxxxxxx的形式